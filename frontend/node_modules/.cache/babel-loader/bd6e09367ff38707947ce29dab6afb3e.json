{"ast":null,"code":"import axios from 'axios';\nimport apiHelpers from './apiHelpers';\nconst PokeAPI = {};\nconst BASE_URL = \"https://pokeapi.co/api/v2/\";\n\nconst tryCatchFetch = async axiosCall => {\n  try {\n    const response = await axiosCall(); //returns promise (tell us if we succeeded or failed), wait for promise to resolve\n\n    return response.data;\n  } catch (e) {\n    console.error(\"tryCatchFetch LOOKIE LOOKIE:\", e);\n    return null;\n  }\n}; //helper function, passing in a function 'axiosCall()'\n\n\nPokeAPI.getAllPokemon = async () => {\n  const allPokemon = await axios.get(`${BASE_URL}pokemon?limit=10&offset=0`);\n  let pokemonData = [];\n\n  for (let pokemon of allPokemon.data.results) {\n    let pokemonObject = {};\n    const detailedPokemon = await axios.get(pokemon.url);\n    const namePokemon = detailedPokemon.data.name;\n    const spritePokemon = detailedPokemon.data.sprites.front_default;\n    const descriptionPokemon = await axios.get(detailedPokemon.data.species.url); // console.log(detailedPokemon.data.id)\n\n    pokemonObject[\"namePokemon\"] = namePokemon;\n    pokemonObject[\"spritePokemon\"] = spritePokemon;\n    pokemonObject[\"descriptionPokemon\"] = descriptionPokemon.data.flavor_text_entries[1].flavor_text;\n    pokemonData.push(pokemonObject); // console.log(detailedPokemon.data.name)\n    // console.log(spritePokemon)\n    // console.log(descriptionPokemon.data.flavor_text_entries[1].flavor_text)\n  }\n\n  return pokemonData;\n};\n\nPokeAPI.createPokemonTeam = async pokeid => {\n  return await apiHelpers.tryCatchFetch(() => axios.post(`${BASE_URL}/your-team/`, pokeid, apiHelpers.getCsrftConfig()));\n};\n\nPokeAPI.getPokemonById = async pokeId => {\n  return await apiHelpers.tryCatchFetch(() => axios.get(`${BASE_URL}/your-team/${pokeId}/`, apiHelpers.getCsrftConfig()));\n};\n\nexport default PokeAPI;","map":{"version":3,"sources":["/Users/jin/codeplatoon/projects/pokemon/frontend/src/api/PokeAPI.js"],"names":["axios","apiHelpers","PokeAPI","BASE_URL","tryCatchFetch","axiosCall","response","data","e","console","error","getAllPokemon","allPokemon","get","pokemonData","pokemon","results","pokemonObject","detailedPokemon","url","namePokemon","name","spritePokemon","sprites","front_default","descriptionPokemon","species","flavor_text_entries","flavor_text","push","createPokemonTeam","pokeid","post","getCsrftConfig","getPokemonById","pokeId"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,UAAP,MAAuB,cAAvB;AAEA,MAAMC,OAAO,GAAG,EAAhB;AACA,MAAMC,QAAQ,GAAG,4BAAjB;;AAEA,MAAMC,aAAa,GAAG,MAAOC,SAAP,IAAqB;AACzC,MAAG;AACD,UAAMC,QAAQ,GAAG,MAAMD,SAAS,EAAhC,CADC,CACkC;;AACnC,WAAOC,QAAQ,CAACC,IAAhB;AACD,GAHD,CAIA,OAAOC,CAAP,EAAS;AACPC,IAAAA,OAAO,CAACC,KAAR,CAAc,8BAAd,EAA8CF,CAA9C;AACA,WAAO,IAAP;AACD;AACF,CATD,C,CAUA;;;AAKAN,OAAO,CAACS,aAAR,GAAwB,YAAY;AAClC,QAAMC,UAAU,GAAG,MAAMZ,KAAK,CAACa,GAAN,CAAW,GAAEV,QAAS,2BAAtB,CAAzB;AACA,MAAIW,WAAW,GAAG,EAAlB;;AACA,OAAI,IAAIC,OAAR,IAAmBH,UAAU,CAACL,IAAX,CAAgBS,OAAnC,EAA2C;AACvC,QAAIC,aAAa,GAAG,EAApB;AAEA,UAAMC,eAAe,GAAG,MAAMlB,KAAK,CAACa,GAAN,CAAUE,OAAO,CAACI,GAAlB,CAA9B;AAEA,UAAMC,WAAW,GAAGF,eAAe,CAACX,IAAhB,CAAqBc,IAAzC;AACA,UAAMC,aAAa,GAAGJ,eAAe,CAACX,IAAhB,CAAqBgB,OAArB,CAA6BC,aAAnD;AACA,UAAMC,kBAAkB,GAAG,MAAMzB,KAAK,CAACa,GAAN,CAAUK,eAAe,CAACX,IAAhB,CAAqBmB,OAArB,CAA6BP,GAAvC,CAAjC,CAPuC,CAQvC;;AAEAF,IAAAA,aAAa,CAAC,aAAD,CAAb,GAA+BG,WAA/B;AACAH,IAAAA,aAAa,CAAC,eAAD,CAAb,GAAiCK,aAAjC;AACAL,IAAAA,aAAa,CAAC,oBAAD,CAAb,GAAsCQ,kBAAkB,CAAClB,IAAnB,CAAwBoB,mBAAxB,CAA4C,CAA5C,EAA+CC,WAArF;AAEAd,IAAAA,WAAW,CAACe,IAAZ,CAAiBZ,aAAjB,EAduC,CAevC;AACA;AACA;AACD;;AACH,SAAOH,WAAP;AACD,CAvBD;;AAyBAZ,OAAO,CAAC4B,iBAAR,GAA4B,MAAOC,MAAP,IAAkB;AAC5C,SAAO,MAAM9B,UAAU,CAACG,aAAX,CACX,MAAMJ,KAAK,CAACgC,IAAN,CAAY,GAAE7B,QAAS,aAAvB,EAAqC4B,MAArC,EAA6C9B,UAAU,CAACgC,cAAX,EAA7C,CADK,CAAb;AAED,CAHD;;AAKA/B,OAAO,CAACgC,cAAR,GAAyB,MAAOC,MAAP,IAAkB;AACzC,SAAO,MAAMlC,UAAU,CAACG,aAAX,CACX,MAAMJ,KAAK,CAACa,GAAN,CAAY,GAAEV,QAAS,cAAagC,MAAO,GAA3C,EAA+ClC,UAAU,CAACgC,cAAX,EAA/C,CADK,CAAb;AAGD,CAJD;;AAKA,eAAe/B,OAAf","sourcesContent":["import axios from 'axios'\nimport apiHelpers from './apiHelpers'\n\nconst PokeAPI = { }\nconst BASE_URL = \"https://pokeapi.co/api/v2/\"\n\nconst tryCatchFetch = async (axiosCall) => {\n  try{\n    const response = await axiosCall() //returns promise (tell us if we succeeded or failed), wait for promise to resolve\n    return response.data\n  }\n  catch (e){\n    console.error(\"tryCatchFetch LOOKIE LOOKIE:\", e)\n    return null\n  }\n}\n//helper function, passing in a function 'axiosCall()'\n\n\n\n\nPokeAPI.getAllPokemon = async () => {\n  const allPokemon = await axios.get(`${BASE_URL}pokemon?limit=10&offset=0`)\n  let pokemonData = []\n  for(let pokemon of allPokemon.data.results){\n      let pokemonObject = {}\n\n      const detailedPokemon = await axios.get(pokemon.url)\n\n      const namePokemon = detailedPokemon.data.name\n      const spritePokemon = detailedPokemon.data.sprites.front_default\n      const descriptionPokemon = await axios.get(detailedPokemon.data.species.url)\n      // console.log(detailedPokemon.data.id)\n      \n      pokemonObject[\"namePokemon\"] = namePokemon\n      pokemonObject[\"spritePokemon\"] = spritePokemon\n      pokemonObject[\"descriptionPokemon\"] = descriptionPokemon.data.flavor_text_entries[1].flavor_text\n      \n      pokemonData.push(pokemonObject)\n      // console.log(detailedPokemon.data.name)\n      // console.log(spritePokemon)\n      // console.log(descriptionPokemon.data.flavor_text_entries[1].flavor_text)\n    }\n  return pokemonData\n}\n\nPokeAPI.createPokemonTeam = async (pokeid) => {\n  return await apiHelpers.tryCatchFetch(\n    () => axios.post(`${BASE_URL}/your-team/`, pokeid, apiHelpers.getCsrftConfig()))\n}\n\nPokeAPI.getPokemonById = async (pokeId) => {\n  return await apiHelpers.tryCatchFetch(\n    () => axios.get (`${BASE_URL}/your-team/${pokeId}/`, apiHelpers.getCsrftConfig())\n  )\n}\nexport default PokeAPI;"]},"metadata":{},"sourceType":"module"}